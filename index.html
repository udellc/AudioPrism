<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.12.0"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- BEGIN opengraph metadata -->
    <meta property="og:title" content="AudioPrism" />
    <meta property="og:description" content="An audio frequency spectrum analysis library for Arduino." />
    <meta property="og:url" content="https://github.com/udellc/AudioPrism" />
    <!-- END opengraph metadata -->
    <!-- BEGIN twitter metadata -->
    <meta name="twitter:title" content="AudioPrism" />
    <meta name="twitter:description" content="An audio frequency spectrum analysis library for Arduino." />
    <!-- END twitter metadata -->
    <title>AudioPrism: AudioPrism</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <link rel="icon" type="image/svg+xml" href="logo.drawio.svg">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/udellc/AudioPrism" class="github-corner" title="View source on GitHub">
    <svg viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
            <tr style="height: 56px;">
                <td id="projectalign" style="padding-left: 0.5em;">
                    <div id="projectname">AudioPrism
                    </div>
                    <div id="projectbrief">An audio frequency spectrum analysis library for Arduino.</div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">AudioPrism </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a></p>
<p>AudioPrism is an Arduino-based audio analysis library for interpreting the results of Fourier transforms. Premade spectral analysis tools are provided for identifying prominent frequencies, classifying the periodicity of a signal, detecting transients, and more. AudioPrism is flexible and expandible; the object-oriented structure of the library provides a chasis to implement custom analysis modules on. This document explains how to install and use AudioPrism's provided tools and how to create audio analysis tools within the AudioPrism framework. </p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents</h1>
<ul>
<li>Getting Started<ul>
<li>Prerequisites</li>
<li>Installation</li>
<li>Configuration</li>
</ul>
</li>
<li>Provided Modules<ul>
<li><a class="el" href="class_max_amplitude.html">MaxAmplitude</a></li>
<li><a class="el" href="class_total_amplitude.html">TotalAmplitude</a></li>
<li><a class="el" href="class_mean_amplitude.html">MeanAmplitude</a></li>
<li><a class="el" href="class_centroid.html">Centroid</a></li>
<li><a class="el" href="class_noisiness.html">Noisiness</a></li>
<li><a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a></li>
<li><a class="el" href="class_salient_freqs.html">SalientFreqs</a></li>
<li><a class="el" href="class_percussion_detection.html">PercussionDetection</a></li>
<li><a class="el" href="class_major_peaks.html">MajorPeaks</a></li>
<li><a class="el" href="class_bread_slicer.html">BreadSlicer</a></li>
</ul>
</li>
<li>Classes<ul>
<li>Class Hierarchy Overview</li>
<li>AnalysisModule Class</li>
<li>ModuleInterface Class</li>
</ul>
</li>
<li>Creating Modules<ul>
<li>Atomic Modules</li>
<li>Composite Modules</li>
</ul>
</li>
<li>Files</li>
<li>Examples </li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Getting Started</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Prerequisites</h2>
<p>AudioPrism is an Arduino library intended for use in <a href="https://www.arduino.cc/en/software">ArduinoIDE</a> and on Arduino / Arduino-compatible boards. AudioPrism may be used in other environments and C++ projects, but setup information and tutorial steps will pertain to Arduino and ArduinoIDE.</p>
<p>The AudioPrism library provides analysis tools that operate on the results of a Fourier transform; it does not provide a way to perform a fourier transform on data. There are free external libraries for Arduino that offer this functionality:</p><ul>
<li><a href="https://www.arduino.cc/reference/en/libraries/arduinofft/">ArduinoFFT</a> (recommended)</li>
<li><a href="https://projecthub.arduino.cc/abhilashpatel121/easyfft-fast-fourier-transform-fft-for-arduino-03724d">EasyFFT</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Installation</h2>
<p>Installing AudioPrism is as simple as copying the repository into ArduinoIDE's 'libraries' folder. The 'libraries' folder is located at <code>Documents\Arduino\libraries</code> on both Windows and MacOS. Below are two methods to download and install AudioPrism. </p>
<h3><a class="anchor" id="autotoc_md5"></a>
Clone the Repository (recommended)</h3>
<p>Cloning the repository with git is recommended to stay up-to-date with changes. Inside a shell, navigate to the ArduinoIDE 'libraries' folder and run <code>git clone ___</code>. </p>
<h3><a class="anchor" id="autotoc_md6"></a>
Download as a .zip</h3>
<p>Instead of cloning the repository, you can download AudioPrism's files as a .zip. Download AudioPrism as a .zip, extract the files, and place them in the ArduinoIDE 'libraries' folder. This is not the recommended approach, as it makes it more difficult to receive updates.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Configuration</h2>
<p>With the AudioPrism library installed, you can include it in your Arduino Sketch in .cpp, .h, or .ino files with <code>#include &lt;AudioPrism&gt;</code>. To get proper analysis results from modules in AudioPrism, you must provide the audio sample rate and the FFT window size used to generate the frequency domain information that will be input to the modules. These constants are necessary to the function of AudioPrism modules, as the audio sample rate and FFT window size are used to calculate the frequencies associated with each bin of a frequency spectrum resulting from the FFT operation; failing to synchronize these constants between your external FFT library and AudioPrism will render the analysis results of AudioPrism useless.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Example</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;AudioPrism&gt;</span></div>
<div class="line"> </div>
<div class="line">setup () {</div>
<div class="line">  <span class="comment">// show configuration steps</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">loop () {</div>
<div class="line">  <span class="comment">// show basic usage</span></div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md9"></a>
Provided Modules</h1>
<p>Modules in this library range in complexity, from atomic modules with no modifiable parameters to compositions of modules that contain submodules and have many modifiable parameters. This list of included modules is roughly ordered by complexity, with simpler modules first.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
MaxAmplitude</h2>
<p>The <a class="el" href="class_max_amplitude.html">MaxAmplitude</a> module finds the amplitude of the frequency bin with the greatest amplitude in an input frequency spectrum. </p>
<h3><a class="anchor" id="autotoc_md11"></a>
Parameters</h3>
<p><a class="el" href="class_max_amplitude.html">MaxAmplitude</a> has no modifiable analysis parameters. </p>
<h3><a class="anchor" id="autotoc_md12"></a>
Return Type</h3>
<p><code>.getOutput()</code> returns a float value, the maximum amplitude found by the most recent call to <code>.doAnalysis()</code>. </p>
<h3><a class="anchor" id="autotoc_md13"></a>
Submodules</h3>
<p><a class="el" href="class_max_amplitude.html">MaxAmplitude</a> does not rely on any submodules.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
TotalAmplitude</h2>
<p>The <a class="el" href="class_total_amplitude.html">TotalAmplitude</a> module sums the amplitudes of the bins of a frequency spectrum, calculating the total energy of the input audio used to generate that frequency spectrum. </p>
<h3><a class="anchor" id="autotoc_md15"></a>
Parameters</h3>
<p><a class="el" href="class_total_amplitude.html">TotalAmplitude</a> has no modifiable parameters. </p>
<h3><a class="anchor" id="autotoc_md16"></a>
Return Type</h3>
<p><code>getOutput()</code> returns a float value, the amplitude sum calculated in the most recent call to <code>.doAnalysis()</code>. </p>
<h3><a class="anchor" id="autotoc_md17"></a>
Submodules</h3>
<p><a class="el" href="class_total_amplitude.html">TotalAmplitude</a> does not rely on any submodules.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
MeanAmplitude</h2>
<p>The <a class="el" href="class_mean_amplitude.html">MeanAmplitude</a> module calculates the average amplitude across the bins in an input frequency spectrum. </p>
<h3><a class="anchor" id="autotoc_md19"></a>
Parameters</h3>
<p><a class="el" href="class_mean_amplitude.html">MeanAmplitude</a> has no modifiable parameters. </p>
<h3><a class="anchor" id="autotoc_md20"></a>
Return Type</h3>
<p><code>.getOutput()</code> returns a float value, the amplitude average calculated in the most recent call to <code>.doAnalysis()</code>. </p>
<h3><a class="anchor" id="autotoc_md21"></a>
Submodules</h3>
<p><a class="el" href="class_mean_amplitude.html">MeanAmplitude</a> contains a private instance of <a class="el" href="class_total_amplitude.html">TotalAmplitude</a>. The output of this <a class="el" href="class_total_amplitude.html">TotalAmplitude</a> module is divided by the range of bins in the frequency spectrum to calculate the average amplitude.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Centroid</h2>
<p>The <a class="el" href="class_centroid.html">Centroid</a> module calculates the center of mass of a frequency spectrum. This is a weighted average of the frequencies present in the input audio. The centroid can be used to characterize the brightness of the input, as a greater presence of high-frequency energy raises the centroid and a greater presence of low-frequency energy lowers the centroid. </p>
<h3><a class="anchor" id="autotoc_md23"></a>
Parameters</h3>
<p><a class="el" href="class_centroid.html">Centroid</a> has no modifiable parameters. </p>
<h3><a class="anchor" id="autotoc_md24"></a>
Return Type</h3>
<p><code>getOutput()</code> returns a float value, the frequency of the center of mass of the input audio spectrum calculated in the most recent call to <code>.doAnalysis()</code>. </p>
<h3><a class="anchor" id="autotoc_md25"></a>
Submodules</h3>
<p><a class="el" href="class_centroid.html">Centroid</a> does not rely on any submodules.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
Noisiness</h2>
<p>The <a class="el" href="class_noisiness.html">Noisiness</a> module calculates the spectral entropy of a frequency spectrum, which is a measure of the spread or randomness of the energy in a frequency spectrum. White noise is characterized by a frequency spectrum with energy evenly distributed across the frequency range; pure periodic signals like sine waves are characterized by frequency spectrums with a sharp spike at a single point in the frequency range. </p>
<h3><a class="anchor" id="autotoc_md27"></a>
Parameters</h3>
<p><a class="el" href="class_noisiness.html">Noisiness</a> has no modifiable parameters. </p>
<h3><a class="anchor" id="autotoc_md28"></a>
Return Type</h3>
<p><code>.getOutput()</code> returns a float value between 0 and 1, where 0 represents a minimally entropic audio spectrum (as generated by a periodic signal) and 1 represents a maximally entropic audio spectrum (as generated by a noisy signal).</p>
<h2><a class="anchor" id="autotoc_md29"></a>
DeltaAmplitudes</h2>
<p>The <a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a> module calculates the change in amplitude for each bin in a frequency spectrum. </p>
<h3><a class="anchor" id="autotoc_md30"></a>
Parameters</h3>
<p><a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a> has no modifiable parameters. </p>
<h3><a class="anchor" id="autotoc_md31"></a>
Return Type</h3>
<p><code>getOutput()</code> returns a reference to an array of float values, representing the change in amplitude for each bin in a frequency spectrum. The size of this array is equal to the size of the input array. The memory for this array is allocated by <a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a>' default constructor and is freed by <a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a>' default destructor.</p>
<h2><a class="anchor" id="autotoc_md32"></a>
SalientFreqs</h2>
<p>The <a class="el" href="class_salient_freqs.html">SalientFreqs</a> module finds the <code>n</code> bins with the greatest change in amplitude from one audio spectrum to another. By default, <a class="el" href="class_salient_freqs.html">SalientFreqs</a> finds the three bins with the greatest change in amplitude. </p>
<h3><a class="anchor" id="autotoc_md33"></a>
Parameters</h3>
<p><code>numFreqs</code>, the number of salient frequencies to find, can be set by using the parameterized constructor <code><a class="el" href="class_salient_freqs.html">SalientFreqs(int n)</a></code> or by invoking the member function <code>.changeNumFreqs(int n)</code>. The default value for numFreqs, set when using the default constructor, is 3. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// set numFreqs with the constructor</span></div>
<div class="line"><a class="code hl_class" href="class_salient_freqs.html">SalientFreqs</a> sal_freqs = <a class="code hl_class" href="class_salient_freqs.html">SalientFreqs</a>(8); <span class="comment">// set numFreqs to 8</span></div>
<div class="ttc" id="aclass_salient_freqs_html"><div class="ttname"><a href="class_salient_freqs.html">SalientFreqs</a></div><div class="ttdef"><b>Definition</b> SalientFreqs.h:19</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// change numFreqs after construction</span></div>
<div class="line"><a class="code hl_class" href="class_salient_freqs.html">SalientFreqs</a> sal_freqs = <a class="code hl_class" href="class_salient_freqs.html">SalientFreqs</a>(); <span class="comment">// default numFreqs value: 3</span></div>
<div class="line">sal_freqs.setNumFreqs(8);                <span class="comment">// set numFreqs to 8</span></div>
</div><!-- fragment --> <h4><a class="anchor" id="autotoc_md34"></a>
Return Type</h4>
<p><code>.getOutput()</code> returns a reference to an array of integer values, the indices of the frequency bins with the greatest change in amplitude. The size of this array is equal to numFreqs and is automatically updated when the member function <code>.changeNumFreqs(int n)</code> is invoked. The memory for this array is allocated upon construction, reallocated when <code>.changeNumFreqs(int n)</code> is invoked, and freed by the default destructor.</p>
<h2><a class="anchor" id="autotoc_md35"></a>
PercussionDetection</h2>
<p><a class="el" href="class_percussion_detection.html">PercussionDetection</a> detects transients (signal spikes, like percussion in music) by considering three factors: the instantaneous total volume, the change in volume, and the instantaneous noisiness of an audio spectrum. These factors are weighed against modifiable threshold values, and a transient is detected if and only if it meets all three thresholds. </p>
<h3><a class="anchor" id="autotoc_md36"></a>
Parameters</h3>
<p><a class="el" href="class_percussion_detection.html">PercussionDetection</a> has modifiable threshold values for each of its three factors:</p><ol type="1">
<li><code>loudness_threshold</code> is a float value representing the instantaneous total amplitude required to satisfy the volume condition. Setting this threshold defines the minimum volume a transient must reach to be detected. <div class="fragment"><div class="line"> ++</div>
<div class="line"><a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a> pd = <a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a>(); <span class="comment">// default loudness threshold: 300</span></div>
<div class="line">pd.<a class="code hl_function" href="class_percussion_detection.html#a61c99551d648059664adab3a36e4c050">setLoudnessThreshold</a>(200); <span class="comment">// change loudness threshold to 200</span></div>
<div class="ttc" id="aclass_percussion_detection_html"><div class="ttname"><a href="class_percussion_detection.html">PercussionDetection</a></div><div class="ttdef"><b>Definition</b> PercussionDetection.h:52</div></div>
<div class="ttc" id="aclass_percussion_detection_html_a61c99551d648059664adab3a36e4c050"><div class="ttname"><a href="class_percussion_detection.html#a61c99551d648059664adab3a36e4c050">PercussionDetection::setLoudnessThreshold</a></div><div class="ttdeci">void setLoudnessThreshold(float new_threshold)</div><div class="ttdef"><b>Definition</b> PercussionDetection.h:111</div></div>
</div><!-- fragment --></li>
<li><code>delta_threshold</code> is a float value representing the change in amplitude from one moment to another required to satisfy the change-in-volume condition. Setting this threshold defines how sharply a transient must spike up in volume to be detected. <div class="fragment"><div class="line"> ++</div>
<div class="line"><a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a> pd = <a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a>(); <span class="comment">// default delta threshold: 150</span></div>
<div class="line">pd.<a class="code hl_function" href="class_percussion_detection.html#af7c52c6fa44af8b2e5dd5f03d3587aa2">setDeltaThreshold</a>(200); <span class="comment">// raise delta threshold to 200</span></div>
<div class="ttc" id="aclass_percussion_detection_html_af7c52c6fa44af8b2e5dd5f03d3587aa2"><div class="ttname"><a href="class_percussion_detection.html#af7c52c6fa44af8b2e5dd5f03d3587aa2">PercussionDetection::setDeltaThreshold</a></div><div class="ttdeci">void setDeltaThreshold(float new_threshold)</div><div class="ttdef"><b>Definition</b> PercussionDetection.h:122</div></div>
</div><!-- fragment --></li>
<li><code>noisiness_threshold</code> is a 0-1 float value representing the instantaneous spectral entropy required to satisfy the noisiness condition. Setting this threshold defines how percussive (with high spectral entropy taken as an indicator of percussiveness) a transient must be to be detected. Visit the <a class="el" href="class_noisiness.html">Noisiness</a> module for further explanation of spectral entropy. <div class="fragment"><div class="line"> ++</div>
<div class="line"><a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a> pd = <a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a>(); <span class="comment">// default noisiness threshold: 0.7</span></div>
<div class="line">pd.<a class="code hl_function" href="class_percussion_detection.html#a3b03b35ecb271ecc7f28a56c6d8d536f">setNoisinessThreshold</a>(0.2); <span class="comment">// lower noisiness threshold to 0.2</span></div>
<div class="ttc" id="aclass_percussion_detection_html_a3b03b35ecb271ecc7f28a56c6d8d536f"><div class="ttname"><a href="class_percussion_detection.html#a3b03b35ecb271ecc7f28a56c6d8d536f">PercussionDetection::setNoisinessThreshold</a></div><div class="ttdeci">void setNoisinessThreshold(float new_threshold)</div><div class="ttdef"><b>Definition</b> PercussionDetection.h:133</div></div>
</div><!-- fragment --></li>
</ol>
<p>These thresholds can be set with the optional constructor <code><a class="el" href="class_percussion_detection.html">PercussionDetection(float loudness_t, float delta_t, float noise_t)</a></code> or by calling the individual member functions <code>.setLousnessThreshold(float loudness_t)</code>, <code>.setDeltaThreshold(float delta_t)</code>, and <code>.setNoisinessThreshold(float noise_t)</code>. Setting any threshold to 0 effectively excludes it from consideration, so <a class="el" href="class_percussion_detection.html">PercussionDetection</a> can be configured to consider only 1 or any combination of 2 factors. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// create an instance of percussion detection with the following parameters:</span></div>
<div class="line"><span class="comment">// loudness_threshold:   250</span></div>
<div class="line"><span class="comment">// delta_threshold:      100</span></div>
<div class="line"><span class="comment">// noisiness_threshld:   0 (disabled)</span></div>
<div class="line"><a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a> pd = <a class="code hl_class" href="class_percussion_detection.html">PercussionDetection</a>(250, 100 0);</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md37"></a>
Return Type</h3>
<p><code>getOutput()</code> returns a boolean value representing whether or not the start of a transient was detected in the most recent call to <code>.doAnalysis()</code>. </p>
<h3><a class="anchor" id="autotoc_md38"></a>
Submodules</h3>
<p><a class="el" href="class_percussion_detection.html">PercussionDetection</a> uses three submodules:</p><ol type="1">
<li>A private instance of <a class="el" href="class_total_amplitude.html">TotalAmplitude</a> is used to measure the total energy of the audio spectrum.</li>
<li>A private instance of <a class="el" href="class_delta_amplitudes.html">DeltaAmplitudes</a> is used to measure the total change in energy of the audio spectrum.</li>
<li>A private instance of <a class="el" href="class_noisiness.html">Noisiness</a> is used to measure the periodicity of the signal that generated the audio spectrum.</li>
</ol>
<h2><a class="anchor" id="autotoc_md39"></a>
MajorPeaks</h2>
<p><a class="el" href="class_major_peaks.html">MajorPeaks</a> finds the N largest peaks in the current FFT window and returns an array of tuples containing the frequency and amplitude of each peak. If there are fewer than N peaks, the remaining elements in the array are padded with zeros. </p>
<h3><a class="anchor" id="autotoc_md40"></a>
Parameters</h3>
<ol type="1">
<li>An integer containing the number of peaks to be found. Defaults to 4 and can be set using the constructor or the <code>setNumPeaks()</code> method. </li>
</ol>
<h3><a class="anchor" id="autotoc_md41"></a>
Return Type</h3>
<p><code>getOutput()</code> returns <code>float**</code>, 2D array of floats containing frequency and amplitudes pairs of the N largest peaks.</p>
<h3><a class="anchor" id="autotoc_md42"></a>
Example</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_analysis_module_8h.html">AnalysisModule.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This Example assumes FFT output is accessible.</span></div>
<div class="line"><span class="comment">// Check README for more info on handling input, processing the FFT, and synthesizing output.</span></div>
<div class="line"><span class="keywordtype">float</span>** FFTOutput;  <span class="comment">// dummy pointer</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Declare module</span></div>
<div class="line"><a class="code hl_class" href="class_major_peaks.html">MajorPeaks</a> peaks = <a class="code hl_class" href="class_major_peaks.html">MajorPeaks</a>(4);   <span class="comment">// find 4 peaks</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">  <span class="comment">// optionally limit the frequency range for a module</span></div>
<div class="line">  peaks.<a class="code hl_function" href="class_analysis_module.html#a6a2cfd5b3922335e35b243bb503a3319">setAnalysisRangeByFreq</a>(300, 900);</div>
<div class="line"> </div>
<div class="line">  Serial.printf(<span class="stringliteral">&quot;Ready\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">    <span class="comment">// Process input data and produce FFT output</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Run analysis for each module</span></div>
<div class="line">    peaks.<a class="code hl_function" href="class_major_peaks.html#a73cbdd127946c98700572679b241de74">doAnalysis</a>(FFTOutput);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get MajorPeaks data</span></div>
<div class="line">    <span class="keywordtype">float</span>** peakData = peaks.<a class="code hl_function" href="class_module_interface.html#a0ffe78dd2ef66b26ad2d1e4e1ad1d147">getOutput</a>();</div>
<div class="line">    <span class="keywordtype">float</span>* peakFrequencies = peaks.<a class="code hl_function" href="class_module_interface.html#a0ffe78dd2ef66b26ad2d1e4e1ad1d147">getOutput</a>()[<a class="code hl_define" href="_major_peaks_8h.html#a4c26e14384ba39fb5ee70097c6b06826">MP_FREQ</a>];  <span class="comment">// just the frequencies</span></div>
<div class="line">    <span class="keywordtype">float</span>* peakAmplitudes  = peaks.<a class="code hl_function" href="class_module_interface.html#a0ffe78dd2ef66b26ad2d1e4e1ad1d147">getOutput</a>()[<a class="code hl_define" href="_major_peaks_8h.html#aa57f498e257f0878e75a293f9257f353">MP_AMP</a>];   <span class="comment">// just the amplitudes</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Manipulate data</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Map outputs</span></div>
<div class="line">}</div>
<div class="ttc" id="a_analysis_module_8h_html"><div class="ttname"><a href="_analysis_module_8h.html">AnalysisModule.h</a></div></div>
<div class="ttc" id="a_major_peaks_8h_html_a4c26e14384ba39fb5ee70097c6b06826"><div class="ttname"><a href="_major_peaks_8h.html#a4c26e14384ba39fb5ee70097c6b06826">MP_FREQ</a></div><div class="ttdeci">#define MP_FREQ</div><div class="ttdef"><b>Definition</b> MajorPeaks.h:15</div></div>
<div class="ttc" id="a_major_peaks_8h_html_aa57f498e257f0878e75a293f9257f353"><div class="ttname"><a href="_major_peaks_8h.html#aa57f498e257f0878e75a293f9257f353">MP_AMP</a></div><div class="ttdeci">#define MP_AMP</div><div class="ttdef"><b>Definition</b> MajorPeaks.h:16</div></div>
<div class="ttc" id="aclass_analysis_module_html_a6a2cfd5b3922335e35b243bb503a3319"><div class="ttname"><a href="class_analysis_module.html#a6a2cfd5b3922335e35b243bb503a3319">AnalysisModule::setAnalysisRangeByFreq</a></div><div class="ttdeci">void setAnalysisRangeByFreq(int lowerFreq, int upperFreq)</div><div class="ttdef"><b>Definition</b> AnalysisModule.cpp:92</div></div>
<div class="ttc" id="aclass_major_peaks_html"><div class="ttname"><a href="class_major_peaks.html">MajorPeaks</a></div><div class="ttdef"><b>Definition</b> MajorPeaks.h:20</div></div>
<div class="ttc" id="aclass_major_peaks_html_a73cbdd127946c98700572679b241de74"><div class="ttname"><a href="class_major_peaks.html#a73cbdd127946c98700572679b241de74">MajorPeaks::doAnalysis</a></div><div class="ttdeci">void doAnalysis()</div><div class="ttdef"><b>Definition</b> MajorPeaks.h:217</div></div>
<div class="ttc" id="aclass_module_interface_html_a0ffe78dd2ef66b26ad2d1e4e1ad1d147"><div class="ttname"><a href="class_module_interface.html#a0ffe78dd2ef66b26ad2d1e4e1ad1d147">ModuleInterface::getOutput</a></div><div class="ttdeci">T getOutput()</div><div class="ttdef"><b>Definition</b> AnalysisModule.h:79</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md43"></a>
BreadSlicer</h2>
<p>The <a class="el" href="class_bread_slicer.html">BreadSlicer</a> module breaks down an input frequency spectrum into a set of configurable, non-overlapping, frequency slices, sums the amplitudes within each slice, and returns the list of sums ordered from lowest to highest frequency slice. </p>
<h3><a class="anchor" id="autotoc_md44"></a>
Parameters</h3>
<ol type="1">
<li>An integer that contains the number of frequency bands (slices) to be analyzed. Defaults to 0 and must be changed using the <code>setBands()</code> method.</li>
<li>An array of integers containing the index boundries of the frequency band. Defaults to NULL and must be set using the <code>setBands()</code> metbod.</li>
</ol>
<h3><a class="anchor" id="autotoc_md45"></a>
Return Type</h3>
<p><code>getOutput()</code> returns a reference to an array of float values, the amplitude sums from the most recent analysis. This array has a length equal to the number of slices selected. The memory for this array is allocated by the default constructor and is freed by the default destructor.</p>
<h3><a class="anchor" id="autotoc_md46"></a>
Example</h3>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_analysis_module_8h.html">AnalysisModule.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This Example assumes FFT output is accessible.</span></div>
<div class="line"><span class="comment">// Check README for more info on handling input, processing the FFT, and synthesizing output.</span></div>
<div class="line"><span class="keywordtype">float</span>** FFTOutput;  <span class="comment">// dummy pointer</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// declare modules</span></div>
<div class="line"><a class="code hl_class" href="class_bread_slicer.html">BreadSlicer</a> slicer = <a class="code hl_class" href="class_bread_slicer.html">BreadSlicer</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">  <span class="comment">// Example frequency bands</span></div>
<div class="line">  <span class="keywordtype">int</span> bands[] = {0, 200, 500, 2000, 4000};</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Set the number of bands and their frequencies</span></div>
<div class="line">  slicer.<a class="code hl_function" href="class_bread_slicer.html#a1e8e03babe663161597cb5fec467cff1">setBands</a>(bands, 4);</div>
<div class="line"> </div>
<div class="line">  Serial.printf(<span class="stringliteral">&quot;Ready\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">    <span class="comment">// Process input data and produce FFT output</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Run analysis for each module</span></div>
<div class="line">    slicer.<a class="code hl_function" href="class_bread_slicer.html#a7b34f1f3c7042c37065c414d64a9fa57">doAnalysis</a>(FFTOutput);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get BreadSlicer amplitudes</span></div>
<div class="line">    <span class="keywordtype">float</span>* amps = slicer.<a class="code hl_function" href="class_module_interface.html#a0ffe78dd2ef66b26ad2d1e4e1ad1d147">getOutput</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get a single sum</span></div>
<div class="line">    <span class="keywordtype">float</span> ampSum0to200 = amps[0];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Manipulate data</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Map outputs</span></div>
<div class="line">}</div>
<div class="ttc" id="aclass_bread_slicer_html"><div class="ttname"><a href="class_bread_slicer.html">BreadSlicer</a></div><div class="ttdef"><b>Definition</b> BreadSlicer.h:17</div></div>
<div class="ttc" id="aclass_bread_slicer_html_a1e8e03babe663161597cb5fec467cff1"><div class="ttname"><a href="class_bread_slicer.html#a1e8e03babe663161597cb5fec467cff1">BreadSlicer::setBands</a></div><div class="ttdeci">void setBands(int *frequencyBands, int numBands)</div><div class="ttdef"><b>Definition</b> BreadSlicer.h:46</div></div>
<div class="ttc" id="aclass_bread_slicer_html_a7b34f1f3c7042c37065c414d64a9fa57"><div class="ttname"><a href="class_bread_slicer.html#a7b34f1f3c7042c37065c414d64a9fa57">BreadSlicer::doAnalysis</a></div><div class="ttdeci">void doAnalysis()</div><div class="ttdef"><b>Definition</b> BreadSlicer.h:78</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md47"></a>
Classes</h1>
<p>AudioPrism utilizes an object-oriented design to implement its analysis tools to maintain data access control, standardize common parameters and functionality, offer a framework for creating additional modules, and allow the creation of high-order modules composed of other analysis modules. This section describes the relationship between AudioPrism's classes and how to use them to implement analysis modules. </p>
<h2><a class="anchor" id="autotoc_md48"></a>
Class Hierarchy Overview</h2>
<p>AudioPrism provides a base class <a class="el" href="class_analysis_module.html">AnalysisModule</a> and a critical component <a class="el" href="class_module_interface.html">ModuleInterface</a>, which are used to implement individual analysis modules, each of which is its own class.</p><ol type="1">
<li>The <a class="el" href="class_analysis_module.html">AnalysisModule</a> base class stores the parameters and functions that are common to all analysis modules, as well as the virtual <code>.doAnalysis()</code> function that must be implemented in analysis modules to give them their unique functionality. For details on the base class's data and functions, see AnalysisModule Class.</li>
<li>The <a class="el" href="class_module_interface.html">ModuleInterface</a> class is a templated class derived from the <a class="el" href="class_analysis_module.html">AnalysisModule</a> base class; it is used to manage analysis modules' output, which can be any data type. For more information about the implementation of and need for this interface, see ModuleInterface Class.</li>
</ol>
<p>Individual analysis modules are implemented as their own classes that must derive from <a class="el" href="class_module_interface.html">ModuleInterface</a> with an output type specified. For more information about implementing analysis modules, see Module Classes </p>
<h2><a class="anchor" id="autotoc_md49"></a>
AnalysisModule Class</h2>
<p>The <code><a class="el" href="class_analysis_module.html">AnalysisModule</a></code> class serves as the base class for all the individual modules. This is where the functionality and properties common to all modules are located. </p>
<h3><a class="anchor" id="autotoc_md50"></a>
AnalysisModule Data</h3>
<p>Key constants like the audio sample rate and FFT window size are stored here, which together define the analysis context in which a specific module operates. The sample rate should be at minimum double the maximum frequency that you want modules to handle. The FFT window size must be a power of 2. </p>
<h3><a class="anchor" id="autotoc_md51"></a>
AnalysisModule Member Functions</h3>
<h4><a class="anchor" id="autotoc_md52"></a>
doAnalysis</h4>
<p><code>doAnalysis()</code> is a pure virtual function that must be implemented in individual modules. This is where the unique functionality of analysis modules is defined. This function is provided as a pure virtual function in the base class so that synchronous analysis can be easily performed by looping over a set of analysis modules and triggering their analysis functions. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// perform synchronous analysis on a set of analysis modules</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;numModules; i++) {</div>
<div class="line">  <span class="comment">// modules[] is an array of analysis modules derived from the AnalysisModule base class</span></div>
<div class="line">  <span class="comment">// .doAnalysis() can perform a different function for each derived analysis module</span></div>
<div class="line">  modules[i].doAnalysis(input);</div>
<div class="line">}</div>
</div><!-- fragment --> <h4><a class="anchor" id="autotoc_md53"></a>
setAnalaysisRangeByFreq/Bin</h4>
<p>The base class implements functions that allow you to constrain a module's frequency range that it will look at during analysis. <code>.setAnalysisRangeByFreq(int lower, int upper)</code> sets the lower and upper frequency bounds by frequency. The provided frequency values will be rounded to the nearest frequency bin indices based on the audio sample rate and FFT window size. <code>.setAnalysisRangeByBin(int lower, int upper)</code> sets the lower and upper frequency bounds from explicitly provided bin indices. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// assume sample rate is 8192 and the FFT window size is 256</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// set analysis range to 0-1000 Hz (this will convert to bins 0 - 31)</span></div>
<div class="line"><span class="comment">// Lower bin: (256 / 8192) * 0 = 0</span></div>
<div class="line"><span class="comment">// Upper bin: (256 / 8192) * 1000 = 31</span></div>
<div class="line">derived_module.setAnalysisRangeByFreq(0, 1000);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// set analysis range to bins 10 - 25 (this corresponds to 320 - 800 Hz)</span></div>
<div class="line"><span class="comment">// Lower frequency: (8192 / 256) * 10 = 320 Hz</span></div>
<div class="line"><span class="comment">// Upper frequency: (8192 / 256) * 25 = 800 Hz</span></div>
<div class="line">derived_module.setAnalysisRangeByBin(10, 25);</div>
</div><!-- fragment --> <h4><a class="anchor" id="autotoc_md54"></a>
addSubmodule</h4>
<p>The <code>.addSubmodule()</code> member function connects a submodule's parameters (audio context, analysis range, etc.) to a parent module. When implementing a module that is composed of submodules, the submodules should be privately declared within the parent module, and the parent module's constructor should invoke <code>.addSubmodule()</code> on itself with a reference to the submodule to be added. Once a submodule is added, changes to the parent module's parameters will be automatically propagated down to its submodules (and submodules will propagate changes down to their submodules, if any). For example usage, see Creating Modules. </p>
<h2><a class="anchor" id="autotoc_md55"></a>
ModuleInterface Class</h2>
<p>The <a class="el" href="class_module_interface.html">ModuleInterface</a> class is necessary to connect an analysis module to the <a class="el" href="class_analysis_module.html">AnalysisModule</a> base class while permitting variable output types and maintaining the ability to keep arrays of analysis modules. <a class="el" href="class_module_interface.html">ModuleInterface</a> is a templated class that derives from the <a class="el" href="class_analysis_module.html">AnalysisModule</a> base class, and its only job is to store the output of the most recent analysis performed by an analysis module. </p>
<h3><a class="anchor" id="autotoc_md56"></a>
ModuleInterface Data</h3>
<p>The <a class="el" href="class_module_interface.html">ModuleInterface</a> template class contains a protected variable <code>output</code>. This is where an analysis module must store the result of its implementation of <code>.doAnalysis()</code>, and it should only be modified inside a module deriving from <a class="el" href="class_module_interface.html">ModuleInterface</a>. By selecting a type T for the <a class="el" href="class_module_interface.html">ModuleInterface</a> class, you are selecting the <code>output</code> type of the derived analysis module. This can be any type, including references to multidimensional arrays. </p>
<h3><a class="anchor" id="autotoc_md57"></a>
ModuleInterface Member Functions</h3>
<p><code>.getOutput()</code> is used to retrieve the value of <code>output</code>. This getter function is necessary because <code>output</code> is a protected variable inside the <a class="el" href="class_module_interface.html">ModuleInterface</a> class.</p>
<h1><a class="anchor" id="autotoc_md58"></a>
Creating Modules</h1>
<p>To implement an analysis module, declare a new class that inherits from <a class="el" href="class_module_interface.html">ModuleInterface</a> with an output type specified. Make a public definition for the virtual <code>doAnalysis()</code> function, with a <code>const float **</code> input type, and store the result of the analysis in the <code>output</code> variable at the end. The <code>output</code> variable will have a data type equal to the type you specified for <a class="el" href="class_module_interface.html">ModuleInterface</a>. </p>
<h2><a class="anchor" id="autotoc_md59"></a>
Creating an Atonic Module</h2>
<p>For atomic modules (modules containing no submodules), no constructor or destructor needs to be explicitly defined. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// atomic module with no internal data or submodules</span></div>
<div class="line"><span class="keyword">class </span>MyAtomicModule : <a class="code hl_class" href="class_module_interface.html">ModuleInterface</a>&lt;float&gt; {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// all analysis modules must implement a version of doAnalysis</span></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_analysis_module.html#a65bdd26ff9b3a24e98ee37ea35e01fec">doAnalysis</a> (<span class="keyword">const</span> <span class="keywordtype">float</span> **input) {</div>
<div class="line">    <span class="comment">// do something with input</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// store the analysis result in &#39;output&#39;</span></div>
<div class="line">    <span class="comment">// this can be retrieved outside the module with .getOutput()</span></div>
<div class="line">    output = result;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_analysis_module_html_a65bdd26ff9b3a24e98ee37ea35e01fec"><div class="ttname"><a href="class_analysis_module.html#a65bdd26ff9b3a24e98ee37ea35e01fec">AnalysisModule::doAnalysis</a></div><div class="ttdeci">virtual void doAnalysis()=0</div></div>
<div class="ttc" id="aclass_module_interface_html"><div class="ttname"><a href="class_module_interface.html">ModuleInterface</a></div><div class="ttdef"><b>Definition</b> AnalysisModule.h:74</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md60"></a>
Creating a Composite Module</h2>
<p>For composite modules (modules containing submodules), declare a private instance of the submodule(s) and define a constructor that invokes the <code>addSubmodule()</code> function with a reference to the submodule(s). This allows properties of the parent module to be propagated to its submodules. </p><div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span>MyCompositeModule : <a class="code hl_class" href="class_module_interface.html">ModuleInterface</a>&lt;float&gt; {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <a class="code hl_class" href="class_total_amplitude.html">TotalAmplitude</a> total_amp = <a class="code hl_class" href="class_total_amplitude.html">TotalAmplitude</a>();</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// modules containing submodules must register them in a constructor</span></div>
<div class="line">  MyCompositeModule () {</div>
<div class="line">    this-&gt;<a class="code hl_function" href="class_analysis_module.html#abe55bbc24f1494298db8da804956550a">addSubmodule</a>(&amp;totalAmp);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// all analysis modules must implement a version of doAnalysis</span></div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_analysis_module.html#a65bdd26ff9b3a24e98ee37ea35e01fec">doAnalysis</a> (<span class="keyword">const</span> <span class="keywordtype">float</span> **input) {</div>
<div class="line">    totalAmp.doAnalysis(input);</div>
<div class="line">    <span class="keywordtype">float</span> total = totalAmp.getOutput();</div>
<div class="line">    <span class="comment">// do something with total...</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// store the analysis result in &#39;output&#39;</span></div>
<div class="line">    <span class="comment">// this can be retrieved outside the module with .getOutput()</span></div>
<div class="line">    output = result;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_analysis_module_html_abe55bbc24f1494298db8da804956550a"><div class="ttname"><a href="class_analysis_module.html#abe55bbc24f1494298db8da804956550a">AnalysisModule::addSubmodule</a></div><div class="ttdeci">void addSubmodule(AnalysisModule *module)</div><div class="ttdef"><b>Definition</b> AnalysisModule.cpp:80</div></div>
<div class="ttc" id="aclass_total_amplitude_html"><div class="ttname"><a href="class_total_amplitude.html">TotalAmplitude</a></div><div class="ttdef"><b>Definition</b> TotalAmplitude.h:16</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md61"></a>
Files</h1>
<h2><a class="anchor" id="autotoc_md62"></a>
AnalysisModule.*</h2>
<h2><a class="anchor" id="autotoc_md63"></a>
modules/*</h2>
<h1><a class="anchor" id="autotoc_md64"></a>
Examples</h1>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
